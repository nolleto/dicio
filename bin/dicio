#!/usr/bin/env node
"use strict";

// dicio | matheus alves
// https://github.com/theuves/dicio

var dicio = require("dicionario-do-aurelio");
var word = process.argv[2];

if (!word) {
  console.log("Uso: dicio <palavra>");

  process.exit(0);
} else {
  dicio(word, function (error, data) {
    var exitCode = 0;

    if (error) {
      if (error.message === "Word not found") {
        console.error("Palavra n√£o encontrada.");
      } else {
        console.error("Erro!");
      }

      exitCode = 1;
    } else {
      if (data && Array.isArray(data)) {
        console.log(data.map(function (item, index) {
          return index + 1 + " - " + item;
        }).join("\n"));
      } else {
        console.error("Erro!");

        exitCode = 1;
      }
    }

    process.exit(exitCode);
  });
}
